#========================================================================
#
# FoFi library Makefile
#
# Copyright 2003 Glyph & Cog, LLC
#
#========================================================================

# includes basic building rules
# REL_ADDR has to be defined, because Makefile.rules refers 
# to the Makefile.flags
REL_ADDR = ../../../
include $(REL_ADDR)/Makefile.rules

CXX_SRC = \
	FoFiBase.cc \
	FoFiEncodings.cc \
	FoFiTrueType.cc \
	FoFiType1.cc \
	FoFiType1C.cc

#------------------------------------------------------------------------

all: $(LIBPREFIX)fofi.a

#------------------------------------------------------------------------

FOFI_OBJS = \
	FoFiBase.o \
	FoFiEncodings.o \
	FoFiTrueType.o \
	FoFiType1.o \
	FoFiType1C.o

$(LIBPREFIX)fofi.a: $(FOFI_OBJS)
	$(DEL_FILE) $(LIBPREFIX)fofi.a
	$(AR) $(LIBPREFIX)fofi.a $(FOFI_OBJS)
	$(RANLIB) $(LIBPREFIX)fofi.a

#------------------------------------------------------------------------

clean:
	$(DEL_FILE) $(FOFI_OBJS) $(LIBPREFIX)fofi.a

#------------------------------------------------------------------------

Makefile.dep:
	$(CXX) $(XPDFLAGS) -MM $(CXX_SRC) >Makefile.dep

# FIXME  FreeBSD make is not able to include non existent file
#include Makefile.dep
